!function(t,i){"object"==typeof exports&&"undefined"!=typeof module?i(exports):"function"==typeof define&&define.amd?define(["exports"],i):i((t=t||self).KldAffine={})}(this,function(t){"use strict";function i(t,i){Object.defineProperties(this,{x:{value:void 0!==t?t:0,writable:!1,enumerable:!0,configurable:!1},y:{value:void 0!==i?i:0,writable:!1,enumerable:!0,configurable:!1}})}function s(t,i){Object.defineProperties(this,{x:{value:void 0!==t?t:0,writable:!1,enumerable:!0,configurable:!1},y:{value:void 0!==i?i:0,writable:!1,enumerable:!0,configurable:!1}})}function n(t,i,s){Object.defineProperty(t,i,{value:s,writable:!1,enumerable:!0,configurable:!1})}function r(t,i,s,r,h,o){n(this,"a",void 0!==t?t:1),n(this,"b",void 0!==i?i:0),n(this,"c",void 0!==s?s:0),n(this,"d",void 0!==r?r:1),n(this,"e",void 0!==h?h:0),n(this,"f",void 0!==o?o:0)}i.prototype.clone=function(){return new this.constructor(this.x,this.y)},i.prototype.add=function(t){return new this.constructor(this.x+t.x,this.y+t.y)},i.prototype.subtract=function(t){return new this.constructor(this.x-t.x,this.y-t.y)},i.prototype.multiply=function(t){return new this.constructor(this.x*t,this.y*t)},i.prototype.divide=function(t){return new this.constructor(this.x/t,this.y/t)},i.prototype.equals=function(t){return this.x===t.x&&this.y===t.y},i.prototype.precisionEquals=function(t,i){return Math.abs(this.x-t.x)<i&&Math.abs(this.y-t.y)<i},i.prototype.lerp=function(t,i){var s=1-i;return new this.constructor(this.x*s+t.x*i,this.y*s+t.y*i)},i.prototype.distanceFrom=function(t){var i=this.x-t.x,s=this.y-t.y;return Math.sqrt(i*i+s*s)},i.prototype.min=function(t){return new this.constructor(Math.min(this.x,t.x),Math.min(this.y,t.y))},i.prototype.max=function(t){return new this.constructor(Math.max(this.x,t.x),Math.max(this.y,t.y))},i.prototype.transform=function(t){return new this.constructor(t.a*this.x+t.c*this.y+t.e,t.b*this.x+t.d*this.y+t.f)},i.prototype.toString=function(){return"point("+this.x+","+this.y+")"},s.fromPoints=function(t,i){return new s(i.x-t.x,i.y-t.y)},s.prototype.length=function(){return Math.sqrt(this.x*this.x+this.y*this.y)},s.prototype.magnitude=function(){return this.x*this.x+this.y*this.y},s.prototype.dot=function(t){return this.x*t.x+this.y*t.y},s.prototype.cross=function(t){return this.x*t.y-this.y*t.x},s.prototype.determinant=function(t){return this.x*t.y-this.y*t.x},s.prototype.unit=function(){return this.divide(this.length())},s.prototype.add=function(t){return new this.constructor(this.x+t.x,this.y+t.y)},s.prototype.subtract=function(t){return new this.constructor(this.x-t.x,this.y-t.y)},s.prototype.multiply=function(t){return new this.constructor(this.x*t,this.y*t)},s.prototype.divide=function(t){return new this.constructor(this.x/t,this.y/t)},s.prototype.angleBetween=function(t){var i=this.dot(t)/(this.length()*t.length());i=Math.max(-1,Math.min(i,1));var s=Math.acos(i);return this.cross(t)<0?-s:s},s.prototype.perp=function(){return new this.constructor(-this.y,this.x)},s.prototype.perpendicular=function(t){return this.subtract(this.project(t))},s.prototype.project=function(t){var i=this.dot(t)/t.dot(t);return t.multiply(i)},s.prototype.transform=function(t){return new this.constructor(t.a*this.x+t.c*this.y,t.b*this.x+t.d*this.y)},s.prototype.equals=function(t){return this.x===t.x&&this.y===t.y},s.prototype.precisionEquals=function(t,i){return Math.abs(this.x-t.x)<i&&Math.abs(this.y-t.y)<i},s.prototype.toString=function(){return"vector("+this.x+","+this.y+")"},n(r,"IDENTITY",new r(1,0,0,1,0,0)),n(r.IDENTITY,"isIdentity",function(){return!0}),r.translation=function(t,i){return new r(1,0,0,1,t,i)},r.scaling=function(t){return new r(t,0,0,t,0,0)},r.scalingAt=function(t,i){return new r(t,0,0,t,i.x-i.x*t,i.y-i.y*t)},r.nonUniformScaling=function(t,i){return new r(t,0,0,i,0,0)},r.nonUniformScalingAt=function(t,i,s){return new r(t,0,0,i,s.x-s.x*t,s.y-s.y*i)},r.rotation=function(t){var i=Math.cos(t),s=Math.sin(t);return new r(i,s,-s,i,0,0)},r.rotationAt=function(t,i){var s=Math.cos(t),n=Math.sin(t);return new r(s,n,-n,s,i.x-i.x*s+i.y*n,i.y-i.y*s-i.x*n)},r.rotationFromVector=function(t){var i=t.unit(),s=i.x,n=i.y;return new r(s,n,-n,s,0,0)},r.xFlip=function(){return new r(-1,0,0,1,0,0)},r.yFlip=function(){return new r(1,0,0,-1,0,0)},r.xSkew=function(t){return new r(1,0,Math.tan(t),1,0,0)},r.ySkew=function(t){return new r(1,Math.tan(t),0,1,0,0)},r.prototype.multiply=function(t){return this.isIdentity()?t:t.isIdentity()?this:new this.constructor(this.a*t.a+this.c*t.b,this.b*t.a+this.d*t.b,this.a*t.c+this.c*t.d,this.b*t.c+this.d*t.d,this.a*t.e+this.c*t.f+this.e,this.b*t.e+this.d*t.f+this.f)},r.prototype.inverse=function(){if(this.isIdentity())return this;var t=this.a*this.d-this.b*this.c;if(0===t)throw new Error("Matrix is not invertible");var i=1/t,s=this.f*this.c-this.e*this.d,n=this.e*this.b-this.f*this.a;return new this.constructor(this.d*i,-this.b*i,-this.c*i,this.a*i,s*i,n*i)},r.prototype.translate=function(t,i){return new this.constructor(this.a,this.b,this.c,this.d,this.a*t+this.c*i+this.e,this.b*t+this.d*i+this.f)},r.prototype.scale=function(t){return new this.constructor(this.a*t,this.b*t,this.c*t,this.d*t,this.e,this.f)},r.prototype.scaleAt=function(t,i){var s=i.x-t*i.x,n=i.y-t*i.y;return new this.constructor(this.a*t,this.b*t,this.c*t,this.d*t,this.a*s+this.c*n+this.e,this.b*s+this.d*n+this.f)},r.prototype.scaleNonUniform=function(t,i){return new this.constructor(this.a*t,this.b*t,this.c*i,this.d*i,this.e,this.f)},r.prototype.scaleNonUniformAt=function(t,i,s){var n=s.x-t*s.x,r=s.y-i*s.y;return new this.constructor(this.a*t,this.b*t,this.c*i,this.d*i,this.a*n+this.c*r+this.e,this.b*n+this.d*r+this.f)},r.prototype.rotate=function(t){var i=Math.cos(t),s=Math.sin(t);return new this.constructor(this.a*i+this.c*s,this.b*i+this.d*s,this.a*-s+this.c*i,this.b*-s+this.d*i,this.e,this.f)},r.prototype.rotateAt=function(t,i){var s=Math.cos(t),n=Math.sin(t),r=i.x,h=i.y,o=this.a*s+this.c*n,e=this.b*s+this.d*n,c=this.c*s-this.a*n,u=this.d*s-this.b*n;return new this.constructor(o,e,c,u,(this.a-o)*r+(this.c-c)*h+this.e,(this.b-e)*r+(this.d-u)*h+this.f)},r.prototype.rotateFromVector=function(t){var i=t.unit(),s=i.x,n=i.y;return new this.constructor(this.a*s+this.c*n,this.b*s+this.d*n,this.a*-n+this.c*s,this.b*-n+this.d*s,this.e,this.f)},r.prototype.flipX=function(){return new this.constructor(-this.a,-this.b,this.c,this.d,this.e,this.f)},r.prototype.flipY=function(){return new this.constructor(this.a,this.b,-this.c,-this.d,this.e,this.f)},r.prototype.skewX=function(t){var i=Math.tan(t);return new this.constructor(this.a,this.b,this.c+this.a*i,this.d+this.b*i,this.e,this.f)},r.prototype.skewY=function(t){var i=Math.tan(t);return new this.constructor(this.a+this.c*i,this.b+this.d*i,this.c,this.d,this.e,this.f)},r.prototype.isIdentity=function(){return 1===this.a&&0===this.b&&0===this.c&&1===this.d&&0===this.e&&0===this.f},r.prototype.isInvertible=function(){return this.a*this.d-this.b*this.c!=0},r.prototype.getScale=function(){return{scaleX:Math.sqrt(this.a*this.a+this.c*this.c),scaleY:Math.sqrt(this.b*this.b+this.d*this.d)}},r.prototype.getDecomposition=function(){var t=.5*(this.a+this.d),i=.5*(this.a-this.d),s=.5*(this.b+this.c),n=.5*(this.b-this.c),r=Math.sqrt(t*t+n*n),h=Math.sqrt(i*i+s*s),o=r+h,e=r-h,c=Math.atan2(s,i),u=Math.atan2(n,t),a=.5*(u-c),p=.5*(u+c);return{translation:new this.constructor(1,0,0,1,this.e,this.f),rotation:this.constructor.IDENTITY.rotate(p),scale:new this.constructor(o,0,0,e,0,0),rotation0:this.constructor.IDENTITY.rotate(a)}},r.prototype.equals=function(t){return this.a===t.a&&this.b===t.b&&this.c===t.c&&this.d===t.d&&this.e===t.e&&this.f===t.f},r.prototype.precisionEquals=function(t,i){return Math.abs(this.a-t.a)<i&&Math.abs(this.b-t.b)<i&&Math.abs(this.c-t.c)<i&&Math.abs(this.d-t.d)<i&&Math.abs(this.e-t.e)<i&&Math.abs(this.f-t.f)<i},r.prototype.toString=function(){return"matrix("+[this.a,this.b,this.c,this.d,this.e,this.f].join(",")+")"},t.Matrix2D=r,t.Point2D=i,t.Vector2D=s,Object.defineProperty(t,"__esModule",{value:!0})});
//# sourceMappingURL=index-umd.min.js.map
